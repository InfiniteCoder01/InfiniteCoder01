<!DOCTYPE html><html><head><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script><link href="../../global.css" rel="stylesheet"><script>hljs.highlightAll();</script></head><body><h1 class="title">Writing a compiler backend for my programming language in ðŸ¦€</h1 class="title"><div class = "note"><p>Yes, I don't like LLVM. I know, that cranelift exists, but I want to write my own. You can see the development <a href = "https://github.com/InfiniteCoder01/orecc-back">here</a></p></div class = "note"><div class = "warning"><p>TODO: Table of contents</p></div class = "warning"><p>This all started when I decided to make my own language. Again.<br>I wanted to make a rust-like language with an effect system and some more features. You can see it on <a href = "https://github.com/InfiniteCoder01/Trustlang">github</a>.<br>I've tried many approaches, but settled on tokenizing text â†’ parsing it into an AST â†’ building an Intermediate Representation (IR) from this AST â†’ converting this IR into raw bytes â†’ packaging those bytes into an application like ELF or PE.<br>The first problem I encountered with the backend itself is compiling to X86_64. That's the first architecture I've tried to implement and already got stuck. Turns out that X86_64 instruction set is really difficult (THIS IS ALL ABOUT BACKWARDS COMPATIBILITY!!!). It has some weird things like REX (register extensions) or some shortucts (Why <code >add AL, 5</code> is taking 2 bytes (encoded as <code >04 05 </code>) when <code >add BL, 5</code> takes 3 bytes (encoded as <code >80 c3 05</code>))</p></body></html>